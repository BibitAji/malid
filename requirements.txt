# inequalities can be tested interactively at https://www.darius.page/pipdev/
aenum==3.1.15
anndata==0.8.0
biopython>=1.79
black==22.3.0 # should match .pre-commit-config.yaml
bokeh>=2.4.2,<3 # for Dask dashboard
cachetools>=5.3.1
choosegpu==0.0.1
crosseval==0.0.3
crowelab-pyir==1.5.0
Cython<0.30,>=0.29
# for dask and distributed: see requirements from rapids at:
# - https://github.com/rapidsai/cuml/blob/branch-23.06/conda/environments/all_cuda-118_arch-x86_64.yaml
# - https://github.com/rapidsai/cudf/blob/branch-23.06/python/dask_cudf/pyproject.toml
# (change branch to match rapids version in our conda environment creatinon)
dask == 2023.3.2
distributed==2023.3.2.1
dtreeviz==2.2.2
enum-mixins==0.0.1
enumchoice==0.0.1
environs>=9.5.0
extendanything==0.0.1
fastcluster
fastparquet
feature-engine==1.6.1
fisher == 0.1.10
flatten_json==0.1.14
frozendict==2.3.8
genetools == 0.7.3
ipywidgets>=8.1.0
joblib==1.3.1
JSON-log-formatter==0.5.2
jupyter-server-proxy==4.0.0
jupyterlab-code-formatter>=2.2.1
jupytext==1.15.0 # should match .pre-commit-config.yaml
kdict==0.1.0
log-with-context==0.3.0
lz4 >= 4.3.2  # dask extra: https://github.com/dask/dask/blob/2023.3.2/setup.py
# Avoid matplotlib 3.7.2, where inset_axis is broken for tight_layout: https://github.com/matplotlib/matplotlib/issues/26287, https://github.com/matplotlib/matplotlib/pull/26291
# Avoid matplotlib 3.8 which breaks seaborn < v0.13 heatmaps in genetools plot_confusion_matrix(): https://github.com/mwaskom/seaborn/issues/3478, https://github.com/maximz/genetools/commit/9a5f52ba5e964c9d35196b9a3847a91c60e23168
matplotlib==3.7.1
more-itertools==9.1.0
multiclass-metrics==0.0.1
notebooklog==0.0.2
numba==0.57.1
numpy==1.24.3
openpyxl>=3.1.2
optuna==3.2.0
# pandas >= 1.5.0, < 1.6.0dev0:
# - minimum restriction comes from a groupby bug fixed in v1.5.0.
# - maximum restriction comes from rapids at https://github.com/rapidsai/cudf/blob/branch-23.06/python/dask_cudf/pyproject.toml
pandas==1.5.3
pre-commit>=3.3.3
# protobuf should satisfy protobuf>=4.21.6,<4.22. These constraints are from:
# - Tensorflow's setup.py: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/pip_package/setup.py
# - cuDF (installed by conda): https://github.com/rapidsai/cudf/blob/branch-23.06/python/cudf/pyproject.toml
protobuf==4.21.12
psutil>=5.7.2
pyarrow >= 7.0 # dask extra: https://github.com/dask/dask/blob/2023.3.2/setup.py
pydot>=1.4.1
pydotplus>=2.0.2
pytest-cov
pytest-lazy-fixture>=0.6.3
pytest-mock
pytest-order>=1.1.0
pytest<8
python-slugify==8.0.1
regressout==0.0.1
scanpy [leiden, louvain] == 1.9.3
scikit-learn == 1.2.2
scikit-learn-extra==0.3.0
scipy==1.11.1
scratchcache==0.0.1
# restrict seaborn to 0.12.x because statannotations does not support seaborn 0.13.0: https://github.com/trevismd/statannotations/discussions/81 and https://github.com/trevismd/statannotations/issues/122
seaborn==0.12.2
SentencePiece
sentinels==1.0.0
sentry-sdk>=1.5.1

# setuptools<60.0 for glmnet install in requirements-extra.txt: https://numpy.org/devdocs/reference/distutils_status_migration.html#numpy-setuptools-interaction
# and further downgrade setuptools for bio-transformers install in requirements-extra.txt: https://github.com/pypa/setuptools/issues/2938
setuptools==58.1.0

shap==0.44.0
statannotations==0.4.3
static-class-property==0.0.1
StratifiedGroupKFoldRequiresGroups==0.0.1
# summarynb
-e git+https://github.com/maximz/summarynb.git@develop#egg=summarynb
tcrdist3==0.2.2


# TensorboardX is required by Ray and an optional requirement of Fairseq.
# Use a version of TensorboardX that doesn't enforce a minimum Protobuf version that would conflicts with the Protobuf versions required by Tensorflow and cuDF
tensorboardX >= 2.6.2

# Tensorflow version based on this GPU compatibility chart https://www.tensorflow.org/install/source#gpu
tensorflow==2.13.0 # includes tensorboard
# tensorflow special cased for Silicon Macs (see https://developer.apple.com/metal/tensorflow-plugin):
# tensorflow-metal actually exposes the Silicon Mac GPU to tensorflow, but we don't do this because we want to run in CPU mode
# tensorflow-metal==1.0.1; sys_platform == 'darwin' and platform_machine == 'arm64'

tqdm==4.65.0
transformers==4.31.0
types-cachetools==4.2.9
typing-extensions==4.5.0
umap-learn==0.5.3
xgboost==1.7.5 # this should match rapids install in cuda.
xgboost-label-encoding==0.0.4
